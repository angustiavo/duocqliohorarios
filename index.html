<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Horario 5to Semestre, 2026</title>
  <style>
    body { font-family: 'Segoe UI', Arial, sans-serif; margin: 20px; background-color: #f0f2f5; color: #333; }
    h2 { color: #1a3a5a; border-bottom: 2px solid #1a3a5a; padding-bottom: 10px; }
    .controles { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px; background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); margin-bottom: 20px; }
    label { font-weight: bold; font-size: 13px; display: block; margin-bottom: 5px; }
    select { width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px; background-color: #fafafa; }
    table { border-collapse: collapse; width: 100%; background: white; box-shadow: 0 2px 4px rgba(0,0,0,0.1); border-radius: 8px; overflow: hidden; }
    th, td { border: 1px solid #ddd; padding: 10px; text-align: center; font-size: 12px; }
    th { background-color: #1a3a5a; color: white; text-transform: uppercase; letter-spacing: 1px; }
    .bloque { background-color: #e3f2fd; font-weight: bold; color: #0d47a1; border: 1px solid #90caf9; }
    .conflicto { background-color: #ffebee; color: #b71c1c; border: 2px solid #ef5350; animation: flash 1s infinite; }
    @keyframes flash { 0% { opacity: 1; } 50% { opacity: 0.7; } 100% { opacity: 1; } }
    #alerta { color: #b71c1c; background-color: #ffcdd2; border: 1px solid #ef9a9a; padding: 15px; border-radius: 4px; margin-bottom: 20px; display: none; font-weight: bold; }
    .footer { margin-top: 20px; font-size: 11px; color: #666; text-align: right; }
  </style>
</head>
<body>

<h2>üìò Generador de Horario - Semestre Actual</h2>
<div id="alerta"></div>

<div class="controles">
  <div>
    <label>üçΩÔ∏è Cocina Criolla Chilena (PGG1110)</label>
    <select id="criolla">
      <option value="">-- Seleccionar Secci√≥n --</option>
      <option value="Lu-1-5:COCINA CRIOLLA">PGG1110-001D ‚Äì Santamar√≠a (Lu 08:31-12:10)</option>
      <option value="Lu-7-11:COCINA CRIOLLA">PGG1110-002D ‚Äì Tapia (Lu 13:01-16:40)</option>
      <option value="Ma-1-5:COCINA CRIOLLA">PGG1110-003D ‚Äì [Por confirmar] (Ma 08:31-12:10)</option>
      <option value="Ma-7-11:COCINA CRIOLLA">PGG1110-004D ‚Äì Barrera (Ma 13:01-16:40)</option>
      <option value="Mi-1-5:COCINA CRIOLLA">PGG1110-005D ‚Äì Valdivia (Mi 08:31-12:10)</option>
      <option value="Mi-7-11:COCINA CRIOLLA">PGG1110-006D ‚Äì Preuss (Mi 13:01-16:40)</option>
      <option value="Ju-1-5:COCINA CRIOLLA">PGG1110-007D ‚Äì Barrera (Ju 08:31-12:10)</option>
      <option value="Ju-7-11:COCINA CRIOLLA">PGG1110-008D ‚Äì Barrera (Ju 13:01-16:40)</option>
      <option value="Vi-1-5:COCINA CRIOLLA">PGG1110-009D ‚Äì Barrera (Vi 08:31-12:10)</option>
    </select>
  </div>

  <div>
    <label>üß™ Gastronom√≠a Cient√≠fica e Innovaci√≥n (DPG1105)</label>
    <select id="innovacion">
      <option value="">-- Seleccionar Secci√≥n --</option>
      <option value="Lu-1-4:INNOVACI√ìN">DPG1105-002D ‚Äì D√≠az (Lu 08:31-11:20)</option>
      <option value="Mi-1-4:INNOVACI√ìN">DPG1105-001D ‚Äì Carrasco (Mi 08:31-11:20)</option>
      <option value="Ju-7-10:INNOVACI√ìN">DPG1105-004D ‚Äì D√≠az (Ju 13:01-15:50)</option>
      <option value="Vi-1-4:INNOVACI√ìN">DPG1105-003D ‚Äì D√≠az (Vi 08:31-11:20)</option>
    </select>
  </div>

  <div>
    <label>üó£Ô∏è Ingl√©s Elemental I (INU3101)</label>
    <select id="ingles">
      <option value="">-- Seleccionar Secci√≥n --</option>
      <option value="Mi-7-8:INGL√âS I|Vi-8-9:INGL√âS I">INU3101-001D ‚Äì Cornejo (Mi/Vi Tarde)</option>
      <option value="Ma-13-14:INGL√âS I|Ju-13-14:INGL√âS I">INU3101-002D ‚Äì Bravo (Ma/Ju 17:31-18:50)</option>
      <option value="Ma-5-6:INGL√âS I|Mi-6-7:INGL√âS I">INU3101-003D ‚Äì Fierro (Ma/Mi Mediod√≠a)</option>
      <option value="Mi-1-2:INGL√âS I|Vi-6-7:INGL√âS I">INU3101-004D ‚Äì Ilabaca (Mi Ma√±ana / Vi Mediod√≠a)</option>
      <option value="Ju-7-8:INGL√âS I|Vi-6-7:INGL√âS I">INU3101-005D ‚Äì Fierro (Ju Tarde / Vi Mediod√≠a)</option>
      <option value="Mi-7-8:INGL√âS I|Vi-3-4:INGL√âS I">INU3101-006D ‚Äì [PC] (Mi Tarde / Vi Ma√±ana)</option>
      <option value="Ma-1-2:INGL√âS I|Ju-3-4:INGL√âS I">INU3101-007D ‚Äì [PC] (Ma Ma√±ana / Ju Ma√±ana)</option>
    </select>
  </div>

  <div>
    <label>üç∞ Pasteler√≠a y Reposter√≠a Criolla (PGG1111)</label>
    <select id="pasteleria">
      <option value="">-- Seleccionar Secci√≥n --</option>
      <option value="Lu-7-11:PASTELER√çA">PGG1111-001D ‚Äì Barrera (Lu 13:01-16:40)</option>
      <option value="Lu-1-5:PASTELER√çA">PGG1111-002D ‚Äì Mu√±oz (Lu 08:31-12:10)</option>
      <option value="Ma-7-11:PASTELER√çA">PGG1111-003D ‚Äì Mu√±oz (Ma 13:01-16:40)</option>
      <option value="Ma-1-5:PASTELER√çA">PGG1111-004D ‚Äì Mu√±oz (Ma 08:31-12:10)</option>
      <option value="Mi-7-11:PASTELER√çA">PGG1111-005D ‚Äì Farias (Mi 13:01-16:40)</option>
      <option value="Mi-1-5:PASTELER√çA">PGG1111-006D ‚Äì [PC] (Mi 08:31-12:10)</option>
      <option value="Ju-7-11:PASTELER√çA">PGG1111-007D ‚Äì Mu√±oz (Ju 13:01-16:40)</option>
      <option value="Ju-1-5:PASTELER√çA">PGG1111-008D ‚Äì Campos (Ju 08:31-12:10)</option>
      <option value="Vi-7-11:PASTELER√çA">PGG1111-009D ‚Äì Mu√±oz (Vi 13:01-16:40)</option>
    </select>
  </div>

  <div>
    <label>üç∑ Vinos, Cervezas y Mixolog√≠a (PGG1112)</label>
    <select id="vinos">
<option value="">-- Seleccionar Secci√≥n --</option>
      <option value="Lu-6-9:VINOS">PGG1112-002D ‚Äì Tiska (Lu 12:11-15:10)</option>
      <option value="Lu-10-13:VINOS">PGG1112-004D ‚Äì Tiska (Lu 15:11-18:10)</option>
      <option value="Ma-8-11:VINOS">PGG1112-001D ‚Äì Michaud (Ma 13:41-16:40)</option>
      <option value="Ma-4-7:VINOS">PGG1112-005D ‚Äì [PC] (Ma 10:41-13:40)</option>
      <option value="Ju-10-13:VINOS">PGG1112-003D ‚Äì Tiska (Ju 15:11-18:10)</option>
      <option value="Vi-11-14:VINOS">PGG1112-006D ‚Äì Michaud (Vi 16:01-18:50)</option>
    </select>
  </div>

  <div>
    <label>üè´ Optativo 1</label>
    <select id="optativo1">
      <option value="">-- Seleccionar Optativo --</option>
      <option value="Ma-8-11:MARCA PERSONAL">GMP0101-001D ‚Äì Marca Personal (Donoso - Ma 13:41-16:40)</option>
      <option value="Ma-1-2:ALFABETIZACI√ìN">ALI0010-006D ‚Äì Alfabetizaci√≥n (Ma 08:31-09:50)</option>
      <option value="Ma-8-12:CULTURA Y GASTR.">CGT010-003D ‚Äì Cultura y Gastr. (Arriagada - Ma 13:41-17:20)</option>
    </select>
  </div>

  <div>
    <label>üè´ Optativo 2</label>
    <select id="optativo2">
      <option value="">-- Seleccionar Optativo --</option>
      <option value="Ma-8-11:MARCA PERSONAL">GMP0101-001D ‚Äì Marca Personal (Donoso - Ma 13:41-16:40)</option>
      <option value="Ma-1-2:ALFABETIZACI√ìN">ALI0010-006D ‚Äì Alfabetizaci√≥n (Ma 08:31-09:50)</option>
      <option value="Ma-8-12:CULTURA Y GASTR.">CGT010-003D ‚Äì Cultura y Gastr. (Arriagada - Ma 13:41-17:20)</option>
    </select>
  </div>
</div>

<table>
  <thead>
    <tr>
      <th>Hora</th>
      <th>Lunes</th>
      <th>Martes</th>
      <th>Mi√©rcoles</th>
      <th>Jueves</th>
      <th>Viernes</th>
    </tr>
  </thead>
  <tbody id="tabla"></tbody>
</table>

<div class="footer">Detecci√≥n de topes autom√°tica activa. Todos los bloques considerados.</div>

<script>
const rangos = [
  "08:31‚Äì09:10","09:11‚Äì09:50","10:01‚Äì10:40","10:41‚Äì11:20",
  "11:31‚Äì12:10","12:11‚Äì12:50","13:01‚Äì13:40","13:41‚Äì14:20",
  "14:31‚Äì15:10","15:11‚Äì15:50","16:01‚Äì16:40","16:41‚Äì17:20",
  "17:31‚Äì18:10","18:11‚Äì18:50"
];
const dias = ["Lu","Ma","Mi","Ju","Vi"];
const tabla = document.getElementById("tabla");
const alerta = document.getElementById("alerta");
let ocupado = {};

// Crear estructura de la tabla
rangos.forEach((hora, i) => {
  const fila = document.createElement("tr");
  const celdaHora = document.createElement("td");
  celdaHora.textContent = hora;
  fila.appendChild(celdaHora);
  dias.forEach(d => {
    const celda = document.createElement("td");
    celda.dataset.dia = d;
    celda.dataset.modulo = i + 1;
    fila.appendChild(celda);
  });
  tabla.appendChild(fila);
});

function pintar(valor) {
  if (!valor) return;
  const partes = valor.split("|");
  partes.forEach(v => {
    const [bloque, nombre] = v.split(":");
    const [dia, desde, hasta] = bloque.split("-");
    for (let i = parseInt(desde); i <= parseInt(hasta); i++) {
      const clave = dia + "-" + i;
      const celda = document.querySelector(`td[data-dia="${dia}"][data-modulo="${i}"]`);
      if (celda) {
        if (ocupado[clave]) {
          celda.classList.add("conflicto");
          alerta.style.display = "block";
          alerta.innerHTML += `‚ö†Ô∏è TOPE DETECTADO: <strong>${ocupado[clave]}</strong> choca con <strong>${nombre}</strong> el ${dia} a las ${rangos[i-1]}<br>`;
        } else {
          celda.classList.add("bloque");
          celda.textContent = nombre;
          ocupado[clave] = nombre;
        }
      }
    }
  });
}

function actualizar() {
  document.querySelectorAll("td").forEach(celda => {
    if (celda.dataset.dia) {
      celda.textContent = "";
      celda.className = "";
    }
  });
  ocupado = {};
  alerta.innerHTML = "";
  alerta.style.display = "none";

  const ids = ["criolla", "innovacion", "ingles", "pasteleria", "vinos", "optativo1", "optativo2"];
  ids.forEach(id => {
    const selector = document.getElementById(id);
    if (selector && selector.value) pintar(selector.value);
  });
}

document.querySelectorAll("select").forEach(sel => {
  sel.addEventListener("change", actualizar);
});
</script>
</body>
</html>

     